<!DOCTYPE html>
<html>
<link rel="stylesheet" href="styles.css">

<body>
    <div class="container">
    <img id="img" src="https://nicksrouter.ddns.net:81/image" alt="LED" width="800" onload='refreshImage()'>
        <h1>Turn the LED on and off as much as you like (it's free)</h1>
        <div class="buttonBox">
            <button id="on">on</button>
            <button id="off">off</button>
        </div>
    </div>
</body>

<script>
    const image = document.getElementById("img");

    const refreshImage = () => {
        setTimeout(() => image.src = "https://nicksrouter.ddns.net:81/image?" + Math.random(), 100)
    }

    const on = document.getElementById("on");
    const off = document.getElementById("off");

    const handleOn = () => {
        fetch("https://nicksrouter.ddns.net:80/on", {
        method: "get",
        })
    }

    const handleOff = () => {
        fetch("https://nicksrouter.ddns.net:80/off", {
        method: "get",
        })
    }

    on.onclick = handleOn;
    off.onclick = handleOff;
</script>
</html>